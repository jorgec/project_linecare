(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,n,o){e.exports=o(406)},404:function(e,n,o){},406:function(e,n,o){"use strict";o.r(n);o(166);var t=o(1),a=o.n(t),r=o(60),i=o.n(r),l=o(157),c=o(158),s=o(163),p=o(159),d=o(162),u=o(49),f=o(10),h=o(33),m=o.n(h),g=o(11),b=o(38),v=(o(400),function(e){return e.children}),P="";function k(){var e=Object(f.a)(["\n  padding: 2px 16px;\n  border-top: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n  padding: 1rem 1rem;\n"]);return k=function(){return e},e}function x(){var e=Object(f.a)(["\n  padding: 1rem 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return x=function(){return e},e}function y(){var e=Object(f.a)(["\n  padding: 1rem 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n"]);return y=function(){return e},e}function C(){var e=Object(f.a)(["\n  position: relative;\n  background-color: #fefefe;\n  margin: auto;\n  padding: 0;\n  border: 1px solid #888;\n  width: 60%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  -webkit-animation-name: animatetop;\n  -webkit-animation-duration: 0.4s;\n  animation-name: animatetop;\n  animation-duration: 0.4s;\n  /* Add Animation */\n  @-webkit-keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n\n  @keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n"]);return C=function(){return e},e}function O(){var e=Object(f.a)(["\n  display: ","; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 500; /* Sit on top */\n  padding-top: 200px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\n  .close {\n    color: rgba(0, 0, 0, 1);\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: rgba(0, 0, 0, 0.4);\n    text-decoration: none;\n    cursor: pointer;\n  }\n"]);return O=function(){return e},e}var w=g.a.div(O(),function(e){return e.profileModalOpen?"block":"none"}),E=g.a.div(C()),N=g.a.div(y()),j=g.a.div(x()),M=g.a.div(k()),S=function(e){var n=e.profileAlbumSlug;return a.a.createElement(w,{className:"modal",profileModalOpen:e.profileModalOpen},a.a.createElement(E,{className:"modal-content"},a.a.createElement(N,{className:"modal-header"},a.a.createElement("h5",{className:"h5"},e.title),a.a.createElement("span",{onClick:e.openChangeProfilePhotoModal,className:"close"},"\xd7")),a.a.createElement(j,{className:"modal-body"},e.children),a.a.createElement(M,{className:"modal-footer"},a.a.createElement("a",{className:"btn btn-primary",href:"".concat(P,"/profile/albums/").concat(n,"/detail")},"Add New Profile Photo"))))};function _(){var e=Object(f.a)(["\n  padding: 2px 16px;\n  border-top: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n  padding: 1rem 1rem;\n"]);return _=function(){return e},e}function A(){var e=Object(f.a)(["\n  padding: 1rem 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return A=function(){return e},e}function B(){var e=Object(f.a)(["\n  padding: 1rem 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n"]);return B=function(){return e},e}function H(){var e=Object(f.a)(["\n  position: relative;\n  background-color: #fefefe;\n  margin: auto;\n  padding: 0;\n  border: 1px solid #888;\n  width: 60%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  -webkit-animation-name: animatetop;\n  -webkit-animation-duration: 0.4s;\n  animation-name: animatetop;\n  animation-duration: 0.4s;\n  /* Add Animation */\n  @-webkit-keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n\n  @keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n"]);return H=function(){return e},e}function L(){var e=Object(f.a)(["\n  display: ","; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 500; /* Sit on top */\n  padding-top: 200px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\n  .close {\n    color: rgba(0, 0, 0, 1);\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: rgba(0, 0, 0, 0.4);\n    text-decoration: none;\n    cursor: pointer;\n  }\n"]);return L=function(){return e},e}var U=g.a.div(L(),function(e){return e.coverModalOpen?"block":"none"}),F=g.a.div(H()),z=g.a.div(B()),I=g.a.div(A()),T=g.a.div(_()),J=function(e){var n=e.coverAlbumSlug;return a.a.createElement(U,{className:"modal",coverModalOpen:e.coverModalOpen},a.a.createElement(F,{className:"modal-content"},a.a.createElement(z,{className:"modal-header"},a.a.createElement("h5",{className:"h5"},e.title),a.a.createElement("span",{onClick:e.openChangeCoverPhotoModal,className:"close"},"\xd7")),a.a.createElement(I,{className:"modal-body"},e.children),a.a.createElement(T,{className:"modal-footer"},a.a.createElement("a",{className:"btn btn-primary",href:"".concat(P,"/profile/albums/").concat(n,"/detail")},"Add New Cover Photo"))))};function W(){var e=Object(f.a)(["\n  display: inline-block;\n  border: 4px solid rgba(255, 255, 255, 0.9);\n  border-left-color: #4da21f;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: donut-spin 1.2s linear infinite;\n  @keyframes donut-spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return W=function(){return e},e}function D(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50vh;\n  width: auto;\n  background-color: gray;\n"]);return D=function(){return e},e}var R=g.a.div(D()),V=g.a.div(W()),X=function(e){return a.a.createElement(R,null,a.a.createElement(V,null))};function $(){var e=Object(f.a)(["\n  display: inline-block;\n  border: 4px solid rgba(255, 255, 255, 0.9);\n  border-left-color: #4da21f;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: donut-spin 1.2s linear infinite;\n  @keyframes donut-spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return $=function(){return e},e}function q(){var e=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: gray;\n  border: 2px solid #fff;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.6);\n  top: -80px;\n  border-radius: 50%;\n  left: 50px;\n  position: absolute;\n  height: 150px;\n  width: 150px;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n"]);return q=function(){return e},e}var G=g.a.div(q()),K=g.a.div($()),Q=function(e){return a.a.createElement(G,null,a.a.createElement(K,null))};o(404);function Y(){var e=Object(f.a)(["\n  height: 150px;\n  min-width: 180px;\n  background-repeat: no-repeat;\n  background-color: gray;\n  background-position: center center;\n  background-size: cover;\n  margin-top: 1rem;\n"]);return Y=function(){return e},e}m.a.defaults.xsrfCookieName="csrftoken",m.a.defaults.xsrfHeaderName="X-CSRFToken";var Z=g.a.div(Y()),ee=function(e){function n(){var e,o;Object(l.a)(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(o=Object(s.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={coverPhoto:null,profilePhoto:null,profileModalOpen:!1,coverModalOpen:!1,profileAlbumSlug:null,coverAlbumSlug:null,profilePhotos:{id:null,photo:null},coverPhotos:{id:null,photo:null}},o.changingPhoto=function(){return Object(b.toast)("Setting photo....",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1})},o.successProfileChanged=function(){return b.toast.success("Profile photo changed!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1})},o.errorProfileChanged=function(e){return b.toast.error("".concat(e.message),{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1})},o.successCoverChanged=function(){return b.toast.success("Cover Photo changed!",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1})},o.errorCoverChanged=function(e){return b.toast.error("".concat(e.message),{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1})},o.openChangeProfilePhotoModal=function(){o.setState(function(e){return{profileModalOpen:!e.profileModalOpen}})},o.openChangeCoverPhotoModal=function(){o.setState(function(e){return{coverModalOpen:!e.coverModalOpen}})},o.setAsProfilePhoto=function(e,n){var t=Object(u.a)(Object(u.a)(o));o.changingPhoto(),m.a.post("".concat(P,"/album/api/private/photo/set_primary?photo=").concat(e),{method:"POST"}).then(function(e){e&&(t.setState({profilePhoto:n}),t.successProfileChanged())}).catch(function(e){e&&t.errorProfileChanged(e)})},o.setAsCoverPhoto=function(e,n){var t=Object(u.a)(Object(u.a)(o));o.changingPhoto(),m.a.post("".concat(P,"/album/api/private/photo/set_primary?photo=").concat(e),{method:"POST"}).then(function(e){e&&(t.setState({coverPhoto:n}),t.successCoverChanged())}).catch(function(e){e&&t.errorCoverChanged(e)})},o}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getUserProfilePhoto(window.appContext.user_id),this.getUserCoverPhoto(window.appContext.user_id),this.getUserProfilePhotoLists(),this.getUserProfileCoverLists()}},{key:"getUserProfilePhotoLists",value:function(){var e=this;m.a.get("".concat(P,"/album/api/public/album/photos/all?id=").concat(window.appContext.profile_photo_album_id)).then(function(n){var o=n.data.map(function(e){return{photo:e.photo,id:e.id}});e.setState({profilePhotos:o})}).catch(function(e){console.log(e)})}},{key:"getUserProfileCoverLists",value:function(){var e=this;m.a.get("".concat(P,"/album/api/public/album/photos/all?id=").concat(window.appContext.cover_photo_album_id)).then(function(n){var o=n.data.map(function(e){return{photo:e.photo,id:e.id}});e.setState({coverPhotos:o})}).catch(function(e){console.log(e)})}},{key:"getUserProfilePhoto",value:function(e){var n=this;m.a.get("".concat(P,"/profile/api/public/profile/by_pk?pk=").concat(e)).then(function(e){var o=e.data,t=e.data.profile_album.slug,a=o.profile_photo.photo;n.setState({profilePhoto:a,profileAlbumSlug:t})}).catch(function(e){console.log(e)})}},{key:"getUserCoverPhoto",value:function(e){var n=this;m.a.get("".concat(P,"/profile/api/public/profile/by_pk?pk=").concat(e)).then(function(e){var o=e.data,t=e.data.cover_album.slug,a=o.cover_photo.photo;n.setState({coverPhoto:a,coverAlbumSlug:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,n=this.state,o=n.profilePhotos,t=n.profileModalOpen,r=n.coverPhoto,i=n.profilePhoto,l=n.coverPhotos,c=n.profileAlbumSlug,s=n.coverAlbumSlug,p=Array.from(o).map(function(n){return a.a.createElement("div",{key:n.id,className:o.length<4?"col-lg-4":"col-lg-3"},a.a.createElement("a",{href:"javascript:void(0)",onClick:function(o){return e.setAsProfilePhoto(n.id,n.photo)}},a.a.createElement(Z,{style:{backgroundImage:"url(".concat(n.photo,")")},alt:""})))}),d=Array.from(l).map(function(n){return a.a.createElement("div",{key:n.id,className:l.length<4?"col-lg-4":"col-lg-3"},a.a.createElement("a",{href:"javascript:void(0)",onClick:function(o){return e.setAsCoverPhoto(n.id,n.photo)}},a.a.createElement(Z,{style:{backgroundImage:"url(".concat(n.photo,")")},alt:""})))});return a.a.createElement(v,null,a.a.createElement(b.ToastContainer,{transition:b.Slide,position:"top-right",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!1,pauseOnHover:!1}),r?a.a.createElement("div",{className:"user-profile__cover",style:{backgroundImage:"url(".concat(r,")")}},a.a.createElement("div",{className:"user-profile__cover"},a.a.createElement("div",{className:"user-profile__cover-edit"},a.a.createElement("a",{href:"javascript:void(0)",onClick:this.openChangeCoverPhotoModal},a.a.createElement("i",{className:"fas fa-edit"}),a.a.createElement("span",null,"Edit Cover Photo"))))):a.a.createElement(X,null),a.a.createElement("div",{className:"user-profile__profile-photo"},a.a.createElement("div",{className:"image-wrapper","data-toggle":"modal","data-target":"#editProfilePicture"},a.a.createElement("a",{href:"javascript:void(0)",onClick:this.openChangeProfilePhotoModal},a.a.createElement("i",{className:"fas fa-camera fa-fw"}))),i?a.a.createElement("div",{className:"profile-photo",style:{backgroundImage:"url(".concat(i,")")}}):a.a.createElement(Q,null)),a.a.createElement(S,{openChangeProfilePhotoModal:this.openChangeProfilePhotoModal,profileModalOpen:t,title:"My Profile Photos",profileAlbumSlug:c},a.a.createElement("div",{id:"profileList",className:"row"},p.length>0?p:"No lists")),a.a.createElement(J,{openChangeCoverPhotoModal:this.openChangeCoverPhotoModal,coverModalOpen:this.state.coverModalOpen,title:"My Cover Photos",coverAlbumSlug:s},a.a.createElement("div",{id:"profileList",className:"row"},d.length>0?d:"No lists")))}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(ee,null),document.getElementById("base_profile_app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,2,1]]]);
//# sourceMappingURL=main.82ceef9a.chunk.js.map