(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(54)},54:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(4),r=n.n(c),o=n(5),l=n(6),s=n(9),u=n(7),p=n(8),d=n(2),v=n(12),m=n(13),h=n(3),f=n.n(h),g="",S=g+"/location/api/v1/regions",y="".concat(g,"/doctor/api/v1/public/medical_institution/list"),E=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={regions:[]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get(S).then(function(t){var n=t.data.map(function(e){return e});e.setState({regions:n})})}},{key:"render",value:function(){var e=this.state.regions,t=this.props.provinces,n=this.props.cities,a=e.map(function(e){var t=e.name,n=e.id;return i.a.createElement("option",{value:n,key:n},t)}),c=t.map(function(e){var t=e.id,n=e.name;return i.a.createElement("option",{value:t,key:t},n)}),r=n.map(function(e){var t=e.id,n=e.name;return i.a.createElement("option",{value:t,key:t},n)});return i.a.createElement("div",{style:{marginTop:"2rem"}},i.a.createElement("select",{onChange:this.props.regionSelectedF,value:this.state.selected},i.a.createElement("option",{defaultValue:"",selected:!0},"Select Region"),a||"No options found"),this.props.regionID?i.a.createElement("select",{onChange:this.props.provinceSelectedF},i.a.createElement("option",{defaultValue:"",selected:!0},"Select Province"),c||"null"):i.a.createElement("select",{onChange:this.props.provinceSelectedF},i.a.createElement("option",{defaultValue:"",selected:!0},"Select Province")),this.props.provID?i.a.createElement("select",{onChange:this.props.citySelectedF},i.a.createElement("option",{defaultValue:"",selected:!0},"Select City"),r||"null"):i.a.createElement("select",null,i.a.createElement("option",{defaultValue:"",selected:!0},"Select City")))}}]),t}(a.Component);function b(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 2rem;\n  max-width: 300px;\n  p {\n    display: block;\n  }\n"]);return b=function(){return e},e}function j(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  h1 {\n    font-family: sans-serif;\n  }\n  input {\n    width: 100%;\n    max-width: 300px;\n    padding: 0.5rem 1rem;\n  }\n"]);return j=function(){return e},e}var w=m.a.div(j()),O=m.a.div(b()),k=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={addresses:[],searchResults:[],provinces:[],regSelected:"",cities:[],provSelected:"",endpoint:y,queryString:{location:{name:null,id:0}}},n.handleChange=function(e){var t=Object(d.a)(Object(d.a)(n));if(""===e.target.value)n.setState({searchResults:[]});else if(e.target.value.length>=4){var a=y+"?"+n.makeQueryString(e.target.value);f.a.get(a).then(function(e){var n=e.data.map(function(e){return[e.id,e.name]});t.setState({searchResults:n})}).catch(function(e){console.log(e)}).then(function(){})}},n.regionSelected=function(e){n.setState({regSelected:e.target.value},function(){var e=n.state.regSelected,t=Object(d.a)(Object(d.a)(n));n.setState({cities:[]}),n.setState({queryString:{location:{name:"region",id:e}}}),n.setState({provinces:[],endpoint:"".concat(g,"/location/api/v1/provinces_of_region?region=").concat(e)}),f.a.get("".concat(g,"/location/api/v1/provinces_of_region?region=").concat(e)).then(function(e){var n=e.data.map(function(e){return e});t.setState({provinces:n})})})},n.provinceSelected=function(e){n.setState({provSelected:e.target.value},function(){var e=n.state.provSelected,t=Object(d.a)(Object(d.a)(n));n.setState({cities:[]}),n.setState({queryString:{location:{name:"province",id:e}}}),f.a.get("".concat(g,"/location/api/v1/cities_of_province?province=").concat(e)).then(function(e){var n=e.data.map(function(e){return e});t.setState({cities:n})})})},n.citySelected=function(e){n.setState({queryString:{location:{name:"city",id:e.target.value}}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"findMatches",value:function(e,t){return t.filter(function(t){var n=new RegExp(e,"gi");return t.name.match(n)})}},{key:"makeQueryString",value:function(e){var t="s="+e;return this.state.queryString.location.name&&(t=t+"&"+this.state.queryString.location.name+"="+this.state.queryString.location.id),t}},{key:"render",value:function(){var e=this.state.searchResults,t=e.map(function(e){return i.a.createElement("ul",{className:"list-group"},i.a.createElement("li",null,i.a.createElement("a",{href:"#",key:e[0]},e[1])))});return i.a.createElement(w,null,i.a.createElement("h1",null,"Search Medical Institution"),i.a.createElement("input",{onChange:this.handleChange,type:"text"}),i.a.createElement(E,{regionSelectedF:this.regionSelected,provinces:this.state.provinces,regionID:this.state.regSelected,provinceSelectedF:this.provinceSelected,cities:this.state.cities,provID:this.state.provSelected,citySelectedF:this.citySelected}),i.a.createElement(O,null,0===e.length?i.a.createElement("p",null,"No results found ",i.a.createElement("a",{href:"#"},". Add new medical institution")):t))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.3b5513a9.chunk.js.map