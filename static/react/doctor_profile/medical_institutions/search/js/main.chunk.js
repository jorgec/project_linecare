(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(54)},54:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(4),r=n.n(o),i=n(5),l=n(6),s=n(9),u=n(7),m=n(8),p=n(2),d=n(21),v=n(3),g=n.n(v),h=n(22),f="",S=f+"/location/api/v1/regions",y="".concat(f,"/doctor/api/v1/public/medical_institution/list"),E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={regions:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get(S).then(function(t){var n=t.data.map(function(e){return e});e.setState({regions:n})})}},{key:"render",value:function(){var e=this.state.regions,t=this.props.provinces,n=this.props.cities,a=e.map(function(e){var t=e.name,n=e.id;return c.a.createElement("option",{value:n,key:n},t)}),o=t.map(function(e){var t=e.id,n=e.name;return c.a.createElement("option",{value:t,key:t},n)}),r=n.map(function(e){var t=e.id,n=e.name;return c.a.createElement("option",{value:t,key:t},n)});return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4 col-sm-12"},c.a.createElement("select",{onChange:this.props.regionSelectedF,value:this.state.selected,className:"form-control"},c.a.createElement("option",{defaultValue:"",selected:!0},"Select Region"),a||"No options found")),this.props.regionID?c.a.createElement("div",{className:"col-lg-4 col-sm-12"},c.a.createElement("select",{onChange:this.props.provinceSelectedF,className:"form-control"},c.a.createElement("option",{defaultValue:"",selected:!0},"Select Province"),o||"null")):c.a.createElement("div",{className:"col-lg-4 col-sm-12"},c.a.createElement("select",{onChange:this.props.provinceSelectedF,className:"form-control"},c.a.createElement("option",{defaultValue:"",selected:!0},"Select Province"))),this.props.provID?c.a.createElement("div",{className:"col-lg-4 col-sm-12"},c.a.createElement("select",{onChange:this.props.citySelectedF,className:"form-control"},c.a.createElement("option",{defaultValue:"",selected:!0},"Select City"),r||"null")):c.a.createElement("div",{className:"col-lg-4 col-sm-12"},c.a.createElement("select",{onChange:this.props.citySelectedF,className:"form-control"},c.a.createElement("option",{defaultValue:"",selected:!0},"Select City"))))}}]),t}(a.Component);function b(){var e=Object(d.a)(["\n  /* display: flex; */\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1rem;\n  select {\n    margin-bottom: 1rem;\n    option {\n      &:first-of-type {\n        color: rgba(0, 0, 0, 0.5);\n      }\n    }\n  }\n  input {\n    margin-bottom: 1rem;\n  }\n  p,\n  a {\n    margin-top: 1rem;\n  }\n"]);return b=function(){return e},e}var j=h.a.div(b()),N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={addresses:[],searchResults:[],responseReceived:!1,provinces:[],regSelected:"",cities:[],provSelected:"",endpoint:y,queryString:{location:{name:null,id:0}}},n.handleChange=function(e){var t=Object(p.a)(Object(p.a)(n));if(""===e.target.value)n.setState({searchResults:[],responseReceived:!1});else if(e.target.value.length>=4){n.setState({responseReceived:!0});var a=y+"?"+n.makeQueryString(e.target.value);g.a.get(a).then(function(e){var n=e.data.map(function(e){return[e.id,e.name]});t.setState({searchResults:n})}).catch(function(e){this.setState({responseReceived:!1}),console.log(e)}).then(function(){})}},n.regionSelected=function(e){n.setState({regSelected:e.target.value},function(){var e=n.state.regSelected,t=Object(p.a)(Object(p.a)(n));n.setState({cities:[]}),n.setState({queryString:{location:{name:"region",id:e}}}),n.setState({provinces:[],endpoint:"".concat(f,"/location/api/v1/provinces_of_region?region=").concat(e)}),g.a.get("".concat(f,"/location/api/v1/provinces_of_region?region=").concat(e)).then(function(e){var n=e.data.map(function(e){return e});t.setState({provinces:n})})})},n.provinceSelected=function(e){n.setState({provSelected:e.target.value},function(){var e=n.state.provSelected,t=Object(p.a)(Object(p.a)(n));n.setState({cities:[]}),n.setState({queryString:{location:{name:"province",id:e}}}),g.a.get("".concat(f,"/location/api/v1/cities_of_province?province=").concat(e)).then(function(e){var n=e.data.map(function(e){return e});t.setState({cities:n})})})},n.citySelected=function(e){n.setState({queryString:{location:{name:"city",id:e.target.value}}})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"findMatches",value:function(e,t){return t.filter(function(t){var n=new RegExp(e,"gi");return t.name.match(n)})}},{key:"makeQueryString",value:function(e){var t="s="+e;return this.state.queryString.location.name&&(t=t+"&"+this.state.queryString.location.name+"="+this.state.queryString.location.id),t}},{key:"render",value:function(){var e=this.state.searchResults,t=e.map(function(e){return c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("a",{href:"#",key:e[0]},e[1])))});return c.a.createElement(j,{className:"container"},c.a.createElement("input",{className:"form-control",onChange:this.handleChange,type:"text",placeholder:"Search..."}),c.a.createElement(E,{regionSelectedF:this.regionSelected,provinces:this.state.provinces,regionID:this.state.regSelected,provinceSelectedF:this.provinceSelected,cities:this.state.cities,provID:this.state.provSelected,citySelectedF:this.citySelected}),this.state.responseReceived?0===e.length?c.a.createElement("p",null,"No results found! ",c.a.createElement("a",{href:"#"},"Add a hospital or clinic?")):t:c.a.createElement("p",null,"\xa0"))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.fabba70a.chunk.js.map