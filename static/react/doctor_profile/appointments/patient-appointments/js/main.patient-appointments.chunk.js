(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(75)},75:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(16),o=n.n(c),i=n(18),l=n(9),s=n(13),p=n.n(s),u=n(21),d=n(3),m=n(4),h=n(6),f=n(5),b=n(7),v=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"_handleSelectionChanged",value:function(e){var t=e.target.value;"---"!==t?this.props.dispatchSelectionChanged(t):this.props.dispatchSelectionChanged("")}},{key:"render",value:function(){return this.props.medical_institutions?r.a.createElement("select",{className:"form-control",onChange:this._handleSelectionChanged.bind(this)},r.a.createElement("option",null,"---"),this.props.medical_institutions.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})):r.a.createElement("div",{className:"alert alert-danger"},"No Medical Institutions found!")}}]),t}(a.Component),E=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchSelectionChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"medical_institution"})}}})(v),g=n(25),y=n.n(g),O=n(20),_=(n(34),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleDateChanged=function(e){n.props.dispatchDateChanged(e.toISOString().split("T")[0])},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=new Date(this.props.state.day_start);return r.a.createElement(O.a,{className:"form-control",selected:e,onChange:this._handleDateChanged,dateFormat:"YYYY-MM-dd"})}}]),t}(a.Component)),j=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchDateChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"day_start"})}}})(_),C=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleDateChanged=function(e){n.props.dispatchDateChanged(e.toISOString().split("T")[0])},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=new Date(this.props.state.day_end);return r.a.createElement(O.a,{className:"form-control",selected:e,onChange:this._handleDateChanged,dateFormat:"YYYY-MM-dd"})}}]),t}(a.Component),A=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchDateChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"day_end"})}}})(C),N="testing",k={local:{baseURL:"http://linecare.local:8000"},testing:{baseURL:"https://192.168.10.220"},production:{baseURL:"https://linecare.ph"}},w=k[N],S={checkup:"Check Up",followup:"Follow Up",lab_result:"Lab Result",consultation:"Consultation"},P=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleSelectionChanged=function(e){var t=e.target.value;"---"!==t?n.props.dispatchSelectionChanged(t):n.props.dispatchSelectionChanged("")},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[];return Object.keys(S).forEach(function(t){e.push(r.a.createElement("option",{value:t,key:t},S[t]))}),r.a.createElement("select",{className:"form-control",onChange:this._handleSelectionChanged},r.a.createElement("option",null,"---"),e)}}]),t}(a.Component),D=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchSelectionChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"appointment_type"})}}})(P),R={pending:"Pending",queueing:"Queueing",in_progress:"In Progress",finishing:"Finishing",done:"Done",cancelled_by_patient:"Cancelled by patient",cancelled_by_doctor:"Cancelled by doctor",rescheduled_by_patient:"Rescheduled by patient",rescheduled_by_doctor:"Rescheduled by doctor"},U=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleSelectionChanged=function(e){var t=e.target.value;return"---"!==t?n.props.dispatchSelectionChanged(t):n.props.dispatchSelectionChanged(""),""},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[];return Object.keys(R).forEach(function(t){e.push(r.a.createElement("option",{value:t,key:t},R[t]))}),r.a.createElement("select",{className:"form-control",onChange:this._handleSelectionChanged},r.a.createElement("option",null,"---"),e)}}]),t}(a.Component),I=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchSelectionChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"appointment_status"})}}})(U),x=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleInput=function(e){var t=e.target.value;t.length>=3&&n.props.dispatchTextChanged(t)},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search...",onInput:this._handleInput})}}]),t}(a.Component),T=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchTextChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"s"})}}})(x),M={10:"10",50:"50",100:"100"},L=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handleSelectionChanged=function(e){var t=e.target.value;"---"!==t?n.props.dispatchSelectionChanged(t):n.props.dispatchSelectionChanged("")},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[];return Object.keys(M).forEach(function(t){e.push(r.a.createElement("option",{value:t,key:t},M[t]))}),r.a.createElement("select",{className:"form-control",onChange:this._handleSelectionChanged},r.a.createElement("option",null,"---"),e)}}]),t}(a.Component),F=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchSelectionChanged:function(t){return e({type:"UPDATE_PARAM",value:t,name:"grab",cast:"int"})}}})(L),Y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r))))._handlePrev=function(e){n.props.dispatchPrevPage(e)},n._handleNext=function(e){n.props.dispatchNextPage(e)},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.state.page>1?(t.push(r.a.createElement("a",{key:"0",href:"#!",onClick:function(){return e._handlePrev(e.props.state.page-1)}},"\xab Prev")),t.push(r.a.createElement("span",{key:"1"}," | Page: ",this.props.state.page," | ")),t.push(r.a.createElement("a",{key:"2",href:"#!",onClick:function(){return e._handleNext(e.props.state.page+1)}},"Next \xbb"))):(t.push(r.a.createElement("span",{key:"1"}," Page: ",this.props.state.page," | ")),t.push(r.a.createElement("a",{key:"2",href:"#!",onClick:function(){return e._handleNext(e.props.state.page+1)}},"Next \xbb"))),r.a.createElement("div",null,t)}}]),t}(a.Component),X=Object(l.b)(function(e){return{state:e}},function(e){return{dispatchNextPage:function(t){return e({type:"UPDATE_PARAM",value:t,name:"page",cast:"int"})},dispatchPrevPage:function(t){return e({type:"UPDATE_PARAM",value:t,name:"page",cast:"int"})}}})(Y);function B(e){return"?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}function J(e){e||(e=window.location.href);var t=e.indexOf("?"),n=e.indexOf("#");if(-1===n&&-1===t)return{};-1===n&&(n=e.length);var a=-1===t||n===t+1?e.substring(n):e.substring(t+1,n),r={};return a.split("&").forEach(function(e){if(e){var t=(e=e.split("+").join(" ")).indexOf("="),n=t>-1?e.substr(0,t):e,a=t>-1?decodeURIComponent(e.substr(t+1)):"",c=n.indexOf("[");if(-1===c)r[decodeURIComponent(n)]=a;else{var o=n.indexOf("]",c),i=decodeURIComponent(n.substring(c+1,o));n=decodeURIComponent(n.substring(0,c)),r[n]||(r[n]=[]),i?r[n][i]=a:r[n].push(a)}}}),r}var V=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="".concat(k[N].baseURL,"/doctor/patients/appointment/detail?appointment=").concat(this.props.appointment.id),t="".concat(k[N].baseURL,"/doctor/schedule/").concat(this.props.appointment.medical_institution.slug,"/history?date=").concat(this.props.appointment.schedule_day.date_obj);return r.a.createElement("div",null,r.a.createElement("strong",null,this.props.appointment.type),r.a.createElement("br",null),r.a.createElement("a",{href:e},this.props.appointment.time_start.format_12," - ",this.props.appointment.time_end.format_12),r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("a",{href:t},"".concat(this.props.appointment.schedule_day.day_name,",\n                 ").concat(this.props.appointment.schedule_day.month_name,"\n                 ").concat(this.props.appointment.schedule_day.day,",\n                 ").concat(this.props.appointment.schedule_day.year))))}}]),t}(a.Component),W=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="".concat(k[N].baseURL,"/doctor/patients/").concat(this.props.appointment.patient.id,"/detail"),t="".concat(k[N].baseURL,"/doctor/medical_institution/").concat(this.props.appointment.medical_institution.slug);return r.a.createElement("div",null,r.a.createElement("a",{href:e},r.a.createElement("strong",null,this.props.appointment.patient.full_name)),r.a.createElement("br",null),r.a.createElement("a",{href:t},r.a.createElement("em",null,this.props.appointment.medical_institution.name)),r.a.createElement("br",null),r.a.createElement("small",null,this.props.appointment.medical_institution.address_text))}}]),t}(a.Component),Z=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row no-gutters mb-1"},r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(V,{appointment:this.props.appointment})),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement(W,{appointment:this.props.appointment})),r.a.createElement("div",{className:"col-sm-2"},this.props.appointment.status_display))}}]),t}(a.Component),q=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.appointments.length>0?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-title"},"Appointments ",r.a.createElement("small",{className:"float-right badge badge-secondary"},this.props.appointments.length))),r.a.createElement("div",{className:"card-body"},this.props.appointments.map(function(e){return r.a.createElement(Z,{key:e.id,appointment:e})}))):r.a.createElement("div",{className:"alert alert-danger"},"No appointments matched your filters")}}]),t}(a.Component),Q=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={doctor:{},appointments:[]},n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t,n=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(w.baseURL,"/doctor/api/v1/public/profile/detail?id=").concat(this.props.state.doctor_id),e.next=3,y.a.get(t).then(function(e){n.setState({doctor:e.data})});case 3:return e.next=5,this._fetchAppointments();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(u.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchAppointments();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_fetchAppointments",value:function(){var e=Object(u.a)(p.a.mark(function e(){var t,n,a=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=B(this.props.state),n="".concat(w.baseURL,"/doctor/api/v1/private/appointment/list").concat(t),e.next=4,y.a.get(n).then(function(e){a.setState({appointments:e.data})});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_doFetchAppointments",value:function(e){return e.preventDefault(),this._fetchAppointments()}},{key:"render",value:function(){return this.props.state.doctor_id?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 col-md-6"},r.a.createElement("label",null,"Medical Institution"),r.a.createElement("br",null),r.a.createElement(E,{medical_institutions:this.state.doctor.medical_institutions})),r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement("label",null,"Start Date"),r.a.createElement("br",null),r.a.createElement(j,null)),r.a.createElement("div",{className:"col-sm-6 col-md-3"},r.a.createElement("label",null,"End Date"),r.a.createElement("br",null),r.a.createElement(A,null))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Appointment Type"),r.a.createElement("br",null),r.a.createElement(D,null)),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Status"),r.a.createElement("br",null),r.a.createElement(I,null)),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("label",null,"Display"),r.a.createElement("br",null),r.a.createElement(F,null))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("label",null,"Patient Name"),r.a.createElement(T,null))),r.a.createElement("div",{className:"button-group text-right"},r.a.createElement("button",{type:"button",className:"btn btn-primary my-2",onClick:this._doFetchAppointments.bind(this)},r.a.createElement("i",{className:"fas fa-filter"})," Filter")),r.a.createElement("hr",null),r.a.createElement(X,null),r.a.createElement(q,{appointments:this.state.appointments})):r.a.createElement("div",{className:"alert alert-danger"},"Invalid Doctor")}}]),t}(a.Component),$=Object(l.b)(function(e){return{state:e}})(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(19),G=n(39),H=new Date,K={doctor_id:0,medical_institution:"",s:"",day_start:new Date(H.getTime()-6048e5).toISOString().split("T")[0],day_end:H.toISOString().split("T")[0],appointment_status:"",appointment_type:"",page:1,grab:50},ee=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;if("INITIALIZE_PARAMS"===t.type)return t.payload;if("UPDATE_PARAM"===t.type){var n=t.value;if(t.cast)switch(t.cast){case"int":n=parseInt(n);break;case"float":n=parseFloat(n)}return Object(G.a)({},e,Object(z.a)({},t.name,n))}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),te=J(window.location.href);Object.keys(K).forEach(function(e){te[e]&&(K[e]=te[e])}),ee.dispatch({type:"INITIALIZE_PARAMS",payload:K}),o.a.render(r.a.createElement(l.a,{store:ee},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,2,1]]]);
//# sourceMappingURL=main.96a690c5.chunk.js.map