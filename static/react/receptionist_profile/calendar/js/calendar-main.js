(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(t,e,n){t.exports=n(421)},421:function(t,e,n){"use strict";n.r(e);n(172);var a=n(1),o=n.n(a),c=n(78),r=n.n(c),l=n(79),i=n(80),d=n(82),s=n(81),u=n(83),h=n(33),m=n(34),f=n(25),p=n(50),g=n.n(p),v=n(30),b=n.n(v),w=(n(395),n(35)),x=n.n(w),y=n(167),k=n.n(y),S=(n(415),"");function j(){var t=Object(h.a)(["\n  height: 100%;\n  width: 100%;\n  top: 0;\n  position: absolute;\n"]);return j=function(){return t},t}function D(){var t=Object(h.a)(["\n  padding: 2px 16px;\n  border-top: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n  padding: 1rem 1rem;\n"]);return D=function(){return t},t}function O(){var t=Object(h.a)(["\n  padding: 1rem 1rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  #profileList {\n    width: 100%;\n  }\n"]);return O=function(){return t},t}function E(){var t=Object(h.a)(["\n  padding: 1rem 16px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n  color: #4a4a4a;\n"]);return E=function(){return t},t}function M(){var t=Object(h.a)(["\n  position: relative;\n  background-color: #fefefe;\n  margin: auto;\n  padding: 0;\n  border: 1px solid #888;\n  width: 90%;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  -webkit-animation-name: animatetop;\n  -webkit-animation-duration: 0.4s;\n  animation-name: animatetop;\n  animation-duration: 0.4s;\n  /* Add Animation */\n  @-webkit-keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n\n  @keyframes animatetop {\n    from {\n      top: -300px;\n      opacity: 0;\n    }\n    to {\n      top: 0;\n      opacity: 1;\n    }\n  }\n  @media (min-width: 500px) {\n    width: 60%;\n  }\n"]);return M=function(){return t},t}function N(){var t=Object(h.a)(["\n  display: ","; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 500; /* Sit on top */\n  padding-top: 100px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\n  .close {\n    color: rgba(0, 0, 0, 1);\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: rgba(0, 0, 0, 0.4);\n    text-decoration: none;\n    cursor: pointer;\n  }\n  @media (min-width: 500px) {\n    padding-top: 200px; /* Location of the box */\n  }\n"]);return N=function(){return t},t}var _=m.a.div(N(),function(t){return t.modalOpen?"block":"none"}),C=m.a.div(M()),Y=m.a.div(E()),B=m.a.div(O()),I=m.a.div(D()),L=m.a.div(j()),F=function(t){var e=t.showModal,n=t.toggleModal,a=t.actualDelete;return o.a.createElement(_,{className:"modal",modalOpen:e},o.a.createElement(L,{onClick:n}),o.a.createElement(C,{className:"modal-content"},o.a.createElement(Y,{className:"modal-header"},o.a.createElement("h6",null,"Are you sure you want to delete this schedule?"),o.a.createElement("span",{onClick:n,className:"close"},"\xd7")),o.a.createElement(B,{className:"modal-body"},t.children),o.a.createElement(I,{className:"modal-footer"},o.a.createElement("a",{onClick:a,className:"btn btn-danger",href:"#!"},"Delete"),o.a.createElement("a",{onClick:n,href:"#!",className:"btn btn-secondary"},"Cancel"))))};g.a.defaults.xsrfCookieName="csrftoken",g.a.defaults.xsrfHeaderName="X-CSRFToken";var A=function(t){function e(){var t,n;Object(l.a)(this,e);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(d.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(o)))).state={events:null,loading:!1,error:null,fullDate:null,monthViewSelected:!0,showModal:!1,doctorId:null,scheduleId:null},n.getEvents=function(){var t=new Date,e=t.getMonth()+1,a=t.getFullYear(),o=Object(f.a)(Object(f.a)(n));b.a.start(),n.setState({loading:!0}),g.a.get("".concat(S,"/doctor/api/v1/private/calendar/month?doctor_id=").concat(window.appContext.doctor_id,"&month=").concat(e,"&year=").concat(a)).then(function(t){var e=t.data;o.setState({events:e}),b.a.done(),o.setState({loading:!1})}).catch(function(t){var e=t.response.data;o.setState({error:e}),b.a.done()}).then(function(){})},n.getCurrentDate=function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,o=t.getFullYear();e<10&&(e="0"+e),a<10&&(a="0"+a);var c=t=a+"/"+e+"/"+o;n.setState({fullDate:c})},n.handlePrev=function(){var t=x()(n.state.fullDate).subtract(1,"months");n.setState({fullDate:t});var e=x()(n.state.fullDate).month()+1,a=x()(n.state.fullDate).year(),o=Object(f.a)(Object(f.a)(n));b.a.start(),n.setState({loading:!0}),g.a.get("".concat(S,"/doctor/api/v1/private/calendar/month?doctor_id=").concat(window.appContext.doctor_id,"&month=").concat(e,"&year=").concat(a)).then(function(t){var e=t.data;o.setState({events:e}),b.a.done(),o.setState({loading:!1})}).catch(function(t){var e=t.response.data;o.setState({error:e}),b.a.done()}).then(function(){})},n.handleNext=function(){var t=x()(n.state.fullDate).add(1,"months");n.setState({fullDate:t});var e=x()(n.state.fullDate).month()+1,a=x()(n.state.fullDate).year(),o=Object(f.a)(Object(f.a)(n));b.a.start(),n.setState({loading:!0}),g.a.get("".concat(S,"/doctor/api/v1/private/calendar/month?doctor_id=").concat(window.appContext.doctor_id,"&month=").concat(e,"&year=").concat(a)).then(function(t){var e=t.data;o.setState({events:e}),b.a.done(),o.setState({loading:!1})}).catch(function(t){var e=t.response.data;o.setState({error:e}),b.a.done()}).then(function(){})},n.handleDelete=function(t,e,a){console.log(t,e,a),n.setState({doctorId:t,scheduleId:e}),n.toggleModal()},n.toggleModal=function(){n.setState(function(t){return{showModal:!t.showModal}})},n.actualDelete=function(){var t=Object(f.a)(Object(f.a)(n));g.a.post("".concat(S,"/doctor/api/v1/private/doctor/schedule_day/delete"),{doctor_id:n.state.doctorId,schedule_day_id:n.state.scheduleId}).then(function(e){console.log(e),t.toggleModal()}).catch(function(e){console.log(e),t.toggleModal()})},n}return Object(u.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.getEvents(),this.getCurrentDate(),document.querySelector(".fc-view").classList.contains("fc-month-view")?this.setState({monthViewSelected:!0}):this.setState({monthViewSelected:!1})}},{key:"render",value:function(){var t=this.state,e=t.loading,n=t.error,a=t.fullDate,c=t.events,r=t.showModal,l=this;return o.a.createElement("div",null,n?o.a.createElement("h6",{className:"text-center"},o.a.createElement("em",null,n)):e?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(F,{showModal:r,toggleModal:this.toggleModal,actualDelete:this.actualDelete},o.a.createElement("h4",{className:"alert-warning alert"},"You are about to delete a schedule block",o.a.createElement("p",null,"You will not be able to undo this operation!")),o.a.createElement("p",null,"If this schedule affects existing appointments, you will have to assign those appointments to a different schedule first before you can delete this one."," ")),o.a.createElement(k.a,{header:{left:"customPrevBtn,customNextBtn changeSchedBtn",center:"title",right:"month"},customButtons:{customPrevBtn:{text:"<",click:this.handlePrev},customNextBtn:{text:">",click:this.handleNext},changeSchedBtn:{text:"Add Schedule",click:function(){alert("I've been clicked")}}},defaultDate:a,navLinks:!0,editable:!1,eventLimit:!0,events:c,height:768,eventClick:function(t,e,n,a){var o=t.doctor_id,c=t.schedule_day_id,r=t.url;e.target.classList.contains("fas")&&l.handleDelete(o,c,r)},eventRender:function(t,e){var n=t.patient_count,a=t.days,o=x()(t.start._i).format("MMMM Do YYYY, h:mm a").split(",")[1].trim(),c=x()(t.end._i).format("MMMM Do YYYY, h:mm a").split(",")[1].trim();e[0].title="".concat(t.title," \n").concat(a,"\n").concat(o," to ").concat(c," \nPatients: ").concat(n);e[0].insertAdjacentHTML("beforeend",'\n                <a\n                  \n                  title="Delete this schedule"\n                  href="javascript:void(0)"\n                >\n                  <i style="color:#fff;" class="fas fa-trash mt-2 mr-2" />\n                </a>')}})))}}]),e}(a.Component);function P(){var t=Object(h.a)(["\n  min-height: 100vh;\n  width: auto;\n  .fc-event {\n    background-color: #469a27 !important;\n    border: 1px solid #469a27 !important;\n    color: #fff !important;\n    padding: 0.2rem;\n  }\n  .fc-today {\n    background: #f9eeb6 !important;\n  }\n  .fc-day-grid-event {\n    .fc-content {\n      white-space: pre-wrap !important;\n    }\n  }\n"]);return P=function(){return t},t}var H=m.a.div(P()),V=function(t){function e(){return Object(l.a)(this,e),Object(d.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return o.a.createElement(H,null,o.a.createElement(A,null))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(V,null),document.getElementById("linecare-calendar-app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[171,2,1]]]);
//# sourceMappingURL=main.f00ebde0.chunk.js.map